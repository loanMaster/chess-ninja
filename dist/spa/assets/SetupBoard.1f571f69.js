import{d as C,r as _,C as x,am as s,a as B,B as k,o as P,e as q,g as t,f as l,w as i,h as n,Q as c,an as j,u as g,j as u,t as d}from"./index.ba650283.js";import{C as S}from"./chess-board.interface.0e68ebe2.js";import"./dateTimestampProvider.aca62768.js";const $={class:"row-md column-sm column-xs flex-1",style:{"max-height":"100%",overflow:"hidden"}},A=t("div",{class:"col-3 q-pt-lg xs-hide sm-hide"},null,-1),N=t("div",{class:"flex-1 q-my-md",style:{"max-height":"100%"}},[t("div",{class:"bg-secondary",style:{"aspect-ratio":"783/1000","max-width":"100%","max-height":"100%",margin:"auto"}},[t("div",{class:"g-board q-mx-auto"})])],-1),U={class:"col-md-3 q-pt-md-lg q-pt-sm-xs q-gutter-sm column-md row-sm row-xs items-center justify-md-start justify-sm-center justify-xs-center"},Q=C({__name:"SetupBoard",setup(V){let e=_(void 0);const p=j();x(()=>{s().stopGame(),setTimeout(()=>{h(),s().position.fen&&e.value.position(s().position.fen,!1)},100)});const o=B(()=>!e.value);k(()=>{e.value&&e.value.destroy()});async function y(){await s().setupBoard({playerColor:"black",config:{turn:"white",pieces:f(e.value.getPosition())}}),p.push({name:"play",params:{language:g().language}})}async function v(){await s().setupBoard({playerColor:"white",config:{turn:"white",pieces:f(e.value.getPosition())}}),console.log(e.value.getPosition()),p.push({name:"play",params:{language:g().language}})}function f(a){const m={};return Object.keys(a).forEach(r=>{const b=a[r].startsWith("w")?"white":"black";m[r.toUpperCase()]=b==="white"?a[r][1].toUpperCase():a[r][1].toLowerCase()}),m}function h(){e.value&&e.value.destroy(),e.value=new S(".g-board",{dropOffBoard:"trash",sparePieces:!0})}function w(){e.value.clear(!1)}return(a,m)=>(P(),q("div",$,[A,N,t("div",U,[l(c,{color:"primary",onClick:h,disable:n(o)},{default:i(()=>[u(d(a.$t("Reset")),1)]),_:1},8,["disable"]),l(c,{color:"primary",onClick:w,disable:n(o)},{default:i(()=>[u(d(a.$t("Clear")),1)]),_:1},8,["disable"]),l(c,{color:"primary",onClick:v,disable:n(o)},{default:i(()=>[u(d(a.$t("Play as white")),1)]),_:1},8,["disable"]),l(c,{color:"primary",onClick:y,disable:n(o)},{default:i(()=>[u(d(a.$t("Play as black")),1)]),_:1},8,["disable"])])]))}});export{Q as default};
