import{d as S,r as d,b0 as D,C as O,o as p,e as x,h as C,g as r,t as n,f as h,w as y,Q as _,ai as E,ay as b,ar as M,j as q}from"./index.acb1a3f4.js";import{c as Q,e as m,_ as B}from"./register-defaults.4e197f54.js";import{C as c}from"./chess-utils.5eb9ca53.js";import{u as v}from"./exercise.store.a03c0b34.js";import"./chess-board.interface.005362a6.js";import"./dateTimestampProvider.aca62768.js";const P={key:0,class:"flex-1 justify-center column items-center"},V={class:"text-h5 text-center"},z={class:"row q-gutter-xl q-mt-sm"},R={class:"flex-1",style:{"max-height":"100%"}},j={class:"column items-center"},H=S({__name:"SameDiagonalView",setup(A){const{revealed:i,store:$,inputDisabled:l}=Q(),u=d(!1),w=M(),o=d(""),a=d("");D(()=>{m.createExercise(10)}),O(async()=>{l.value=!0,v().beginExercise(),f()});async function f(){if(!await m.prepareNewQuestion({inputDisabled:l,revealed:i,router:w}))return;o.value=c.getOtherRandomSquare([o.value,a.value]);const t=Math.random()>.5,s=c.getSquaresOnSameDiagonal(o.value);if(t)a.value=s[Math.floor(Math.random()*s.length)];else do a.value=c.getOtherRandomSquare([o.value,a.value]);while(s.indexOf(a.value)>-1&&o.value===a.value);v().$patch(e=>{e.board={...e.board,orientation:"white",pieces:{},highlightPositive:[],highlightNegative:[]}}),l.value=!1}function g(t,s){l.value||(s.stopPropagation(),u.value=t===c.areOnSameDiagonal(o.value,a.value),u.value?(l.value=!0,$.$patch(e=>e.exercise.correctAnswers++),v().$patch(e=>{e.board.highlightPositive=[o.value,a.value],e.board.highlightNegative=[]})):(m.handleMistake(k,void 0),v().$patch(e=>{e.board.highlightPositive=[],e.board.highlightNegative=[o.value,a.value]})),i.value=!0)}function k(){i.value=!0,l.value=!0}function N(t){i.value&&(t.stopPropagation(),f())}return(t,s)=>(p(),x("div",{class:"relative-position column flex-1 self-stretch",onClick:N,ref:"coreExercise"},[C(i)?E("",!0):(p(),x("div",P,[r("div",V,n(t.$t("Are { square1 } and { square2 } on the same diagonal?",{square1:o.value,square2:a.value})),1),r("div",z,[h(_,{color:"primary",size:"xl",push:"",rounded:"",onClick:s[0]||(s[0]=e=>g(!0,e))},{default:y(()=>[q(n(t.$t("Yes")),1)]),_:1}),h(_,{color:"primary",size:"xl",push:"",rounded:"",onClick:s[1]||(s[1]=e=>g(!1,e))},{default:y(()=>[q(n(t.$t("No")),1)]),_:1})])])),r("div",{style:b({opacity:C(i)?1:0}),class:"no-pointer-events absolute-full column items-stretch q-pa-lg"},[r("div",{class:"text-h5 text-center",style:b({color:u.value?"green":"red"})},n(u.value?t.$t("Correct"):t.$t("Wrong")),5),r("div",R,[h(B)]),r("div",j,[r("span",null,n(t.$t("Click to continue")),1)])],4)],512))}});export{H as default};
