import{d as B,r as y,aj as x,C as j,ah as i,a as q,B as P,o as V,e as S,g as s,f as n,w as d,h as o,Q as m,as as T,t as u,ar as U,u as b,j as p}from"./index.acb1a3f4.js";import{C as $}from"./chess-board.interface.005362a6.js";import"./dateTimestampProvider.aca62768.js";const A={class:"row-md column-sm column-xs flex-1",style:{"max-height":"100%",overflow:"hidden"}},N=s("div",{class:"col-3 q-pt-lg xs-hide sm-hide"},null,-1),Q=s("div",{class:"flex-1 q-my-md",style:{"max-height":"100%"}},[s("div",{class:"bg-secondary",style:{"aspect-ratio":"783/1000","max-width":"100%","max-height":"100%",margin:"auto"}},[s("div",{class:"g-board q-mx-auto"})])],-1),W={class:"col-md-3 q-pt-md-lg q-pt-sm-xs q-gutter-sm column-md row-sm row-xs items-center justify-md-start justify-sm-center justify-xs-center"},E={class:"row items-center"},D=B({__name:"SetupBoard",setup(G){let e=y(void 0);const f=U(),l=y(!1),{t:h}=x();j(()=>{i().stopGame(),setTimeout(()=>{g(),i().position.fen&&e.value.position(i().position.fen,!1)},100)});const c=q(()=>!e.value);P(()=>{e.value&&e.value.destroy()});async function w(){await i().setupBoard({playerColor:"black",config:{turn:l.value?"black":"white",pieces:v(e.value.getPosition())}}),f.push({name:"play",params:{language:b().language}})}async function C(){await i().setupBoard({playerColor:"white",config:{turn:l.value?"black":"white",pieces:v(e.value.getPosition())}}),f.push({name:"play",params:{language:b().language}})}function v(a){const r={};return Object.keys(a).forEach(t=>{const k=a[t].startsWith("w")?"white":"black";r[t.toUpperCase()]=k==="white"?a[t][1].toUpperCase():a[t][1].toLowerCase()}),r}function g(){e.value&&e.value.destroy(),e.value=new $(".g-board",{dropOffBoard:"trash",sparePieces:!0})}function _(){e.value.clear(!1)}return(a,r)=>(V(),S("div",A,[N,Q,s("div",W,[n(m,{color:"primary",onClick:g,disable:o(c)},{default:d(()=>[p(u(a.$t("Reset")),1)]),_:1},8,["disable"]),n(m,{color:"primary",onClick:_,disable:o(c)},{default:d(()=>[p(u(a.$t("Clear")),1)]),_:1},8,["disable"]),n(m,{color:"primary",onClick:C,disable:o(c)},{default:d(()=>[p(u(a.$t("Play as white")),1)]),_:1},8,["disable"]),n(m,{color:"primary",onClick:w,disable:o(c)},{default:d(()=>[p(u(a.$t("Play as black")),1)]),_:1},8,["disable"]),s("div",E,[n(T,{modelValue:l.value,"onUpdate:modelValue":r[0]||(r[0]=t=>l.value=t)},null,8,["modelValue"]),s("span",null,u(l.value?o(h)("Black to move"):o(h)("White to move")),1)])])]))}});export{D as default};
